{{ 'meraki-feature.css' | asset_url | stylesheet_tag }}

<div class="meraki-feature design-scale" data-section-id="{{ section.id }}">
  <div class="feature-container">
    <!-- Background Image -->
    <picture class="feature-background">
      {%- if section.settings.desktop_image != blank -%}
        <source
          srcset="{{ section.settings.desktop_image | image_url: width: 1920 }}"
          media="(min-width: 990px)"
        >
      {%- else -%}
        <source
          srcset="{{ 'feature-feature-pc.jpg' | asset_url }}"
          media="(min-width: 990px)"
        >
      {%- endif -%}
      {%- if section.settings.mobile_image != blank -%}
        <img
          src="{{ section.settings.mobile_image | image_url: width: 750 }}"
          alt="Feature background"
          width="750"
          height="1415"
          loading="lazy"
        >
      {%- else -%}
        <img
          src="{{ 'feature-feature-mb.jpg' | asset_url }}"
          alt="Feature background"
          width="750"
          height="1415"
          loading="lazy"
        >
      {%- endif -%}
    </picture>

    <!-- Content Container -->
    <div class="feature-content">
      <!-- Title - Mobile -->
      {%- if section.settings.title_mobile != blank -%}
        <h2 class="feature-title feature-title--mobile">{{ section.settings.title_mobile }}</h2>
      {%- endif -%}

      <!-- Title - Desktop -->
      {%- if section.settings.title_desktop != blank -%}
        <h2 class="feature-title feature-title--desktop">{{ section.settings.title_desktop }}</h2>
      {%- endif -%}

      <!-- Description - Mobile -->
      {%- if section.settings.description_mobile != blank -%}
        <p class="feature-description feature-description--mobile">{{ section.settings.description_mobile }}</p>
      {%- endif -%}

      <!-- Description - Desktop -->
      {%- if section.settings.description_desktop != blank -%}
        <p class="feature-description feature-description--desktop">{{ section.settings.description_desktop }}</p>
      {%- endif -%}

      <!-- Buttons Container -->
      <div class="feature-buttons">
        <!-- Get Yours Now Button -->
        {%- if section.settings.button1_text != blank -%}
          <a
            href="{{ section.settings.button1_link | default: '#' }}"
            class="feature-button feature-button--primary"
          >
            {{ section.settings.button1_text }}
          </a>
        {%- endif -%}

        <!-- Discover Meraki Button -->
        {%- if section.settings.button2_text != blank -%}
          <a
            href="{{ section.settings.button2_link | default: '#' }}"
            class="feature-button feature-button--secondary"
          >
            {{ section.settings.button2_text }}
          </a>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Meraki Feature",
  "settings": [
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Image",
      "info": "Desktop background image. Fallback: feature/feature-pc.jpg"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Image",
      "info": "Mobile background image. Fallback: feature/feature-mb.jpg"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "header",
      "content": "Mobile Content"
    },
    {
      "type": "textarea",
      "id": "title_mobile",
      "label": "Title (Mobile)",
      "default": "Café Performance, At Home"
    },
    {
      "type": "textarea",
      "id": "description_mobile",
      "label": "Description (Mobile)",
      "default": "Enjoy your daily coffee ritual elevated, with café-quality espresso and creamy milk made easy."
    },
    {
      "type": "header",
      "content": "Desktop Content"
    },
    {
      "type": "textarea",
      "id": "title_desktop",
      "label": "Title (Desktop)",
      "info": "Use \\n for line breaks",
      "default": "Café Performance\nAt Home"
    },
    {
      "type": "textarea",
      "id": "description_desktop",
      "label": "Description (Desktop)",
      "info": "Use \\n for line breaks",
      "default": "Enjoy your daily coffee ritual elevated,\nwith café-quality espresso and creamy milk made easy."
    },
    {
      "type": "header",
      "content": "Button 1 - Primary"
    },
    {
      "type": "text",
      "id": "button1_text",
      "label": "Button Text",
      "default": "Get Yours Now"
    },
    {
      "type": "url",
      "id": "button1_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Button 2 - Secondary"
    },
    {
      "type": "text",
      "id": "button2_text",
      "label": "Button Text",
      "default": "Discover Meraki"
    },
    {
      "type": "url",
      "id": "button2_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Meraki Feature"
    }
  ]
}
{% endschema %}
