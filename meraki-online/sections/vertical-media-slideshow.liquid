<style>
  #shopify-section-{{ section.id }} {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    background: {{ section.settings.background_color }};
  }
  @media (max-width: 46.875rem) {
    #shopify-section-{{ section.id }} {
      padding-top: {{ section.settings.padding_top_mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    }
  }
</style>
<div
  class="vertical-media-container"
  id="vertical-media-{{ section.id }}"
>
  {% if section.settings.main_heading != blank %}
    <h2 class="index-section-header-h2 container-default" style="color: {{ section.settings.heading_color }};">
      {{ section.settings.main_heading }}
    </h2>
  {% endif %}
  {% if section.settings.subtitle != blank %}
    <p
      class="index-section-subtitle-p container-default"
      style="color: {{ section.settings.subtitle_color }}; margin-top: {{ section.settings.text_gap }}px;"
    >
      {{ section.settings.subtitle }}
    </p>
  {% endif %}
  {% if section.blocks.size > 0 %}
    <vertical-media-content-container
      section-id="{{ section.id }}"
      scroll-interval="{{ section.settings.scroll_interval }}"
      class="vertical-media-content-container"
      id="vertical-media-{{ section.id }}"
      data-carousel
      slide-length="{{ section.blocks.size }}"
      block-in-view="{{ section.settings.block_in_view }}"
    >
      <div class="vertical-media-content-inner" data-carousel-inner>
        {% for block in section.blocks %}
          <vertical-media-content-item
            class="vertical-media-content-item "
            slide-index="{{ forloop.index0 }}"
            block-id="{{ block.id }}"
            block-type="{{ block.type }}"
            id="vertical-media-item-{{ block.id }}"
            {{ block.shopify_attributes }}
          >
            {% if block.type == 'video' %}
              <div class="vertical-media-content-item-video">
                {% if block.settings.media != blank %}
                  {% assign poster = block.settings.media.preview_image %}
                  {{-
                    block.settings.media
                    | video_tag:
                      playsinline: true,
                      muted: true,
                      loop: true,
                      controls: false,
                      preload: 'metadata',
                      class: 'vertical-media-content-item-video-video',
                      autoplay: false,
                      loading: 'lazy'
                  -}}
                  {% if poster != null %}
                    <img
                      src="{{ poster | image_url }}"
                      alt="{{ poster.alt }}"
                      width="{{ poster.width }}"
                      height="{{ poster.height }}"
                      class="w-full h-full object-cover poster-image"
                    >
                  {% endif %}
                {% else %}
                  {{ 'hero-apparel-3' | placeholder_svg_tag: 'placeholder-svg placeholder' }}
                {% endif %}
                <div class="vertical-media-content-item-video-play">
                  {{ 'icon-video-play.svg' | inline_asset_content }}
                </div>
              </div>
            {% else %}
              <div class="vertical-media-content-item-image">
                {% if block.settings.media != blank %}
                  <img
                    src="{{ block.settings.media | image_url }}"
                    alt="{{ block.settings.media.alt }}"
                    width="{{ block.settings.media.width }}"
                    height="{{ block.settings.media.height }}"
                    class="w-full h-full object-cover"
                  >
                {% else %}
                  {{ 'hero-apparel-3' | placeholder_svg_tag: 'placeholder-svg placeholder' }}
                {% endif %}
              </div>
            {% endif %}
          </vertical-media-content-item>
        {% endfor %}
      </div>
      <vertical-media-slide-container-arrow class="slide-container-arrow">
        <button class="slide-container-arrow-left vertical-media-arrow-left">
          {{ 'icon-arrow-left.svg' | inline_asset_content }}
        </button>
        <div class="vertical-media-slide-dots"></div>
        <button class="slide-container-arrow-right vertical-media-arrow-right">
          {{ 'icon-arrow-right.svg' | inline_asset_content }}
        </button>
      </vertical-media-slide-container-arrow>
    </vertical-media-content-container>
  {% endif %}
</div>
{% schema %}
{
  "name": "Vertical Media Slideshow",
  "max_blocks": 15,
  "settings": [
    {
      "type": "textarea",
      "id": "main_heading",
      "label": "Main Heading",
      "default": "A Chic Element That<br/>Complements Your Lifestyle"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Sub Title"
    },
    {
      "type": "range",
      "id": "text_gap",
      "label": "Text Gap",
      "default": 64,
      "min": 16,
      "max": 160,
      "step": 16
    },
    {
      "type": "range",
      "id": "scroll_interval",
      "label": "Scroll Interval",
      "default": 3,
      "min": 2,
      "max": 10,
      "step": 1
    },
    {
      "type": "number",
      "id": "block_in_view",
      "label": "Witch Block In View",
      "default": 1
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background Color",
      "default": "linear-gradient(180deg, #242424 0%, #131313 100%)"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#B5B5B5"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle Color",
      "default": "#838383"
    },
    {
      "type": "number",
      "id": "padding_top",
      "label": "Padding Top",
      "default": 120
    },
    {
      "type": "number",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "default": 120
    },
    {
      "type": "number",
      "id": "padding_top_mobile",
      "label": "Padding Top Mobile",
      "default": 60
    },
    {
      "type": "number",
      "id": "padding_bottom_mobile",
      "label": "Padding Bottom Mobile",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "video",
      "name": "Video",
      "settings": [
        {
          "type": "video",
          "id": "media",
          "label": "Media"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "media",
          "label": "Media"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Vertical Media Slideshow",
      "blocks": [
        {
          "type": "video"
        },
        {
          "type": "video"
        },
        {
          "type": "video"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}
