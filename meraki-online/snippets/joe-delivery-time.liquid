<style>
    .joe-product-info{
       
        .delivery-time {
          font-family: 'Kanit', sans-serif;
          font-weight: 300;
          line-height: 1.3;
          color: rgba(130, 134, 135, 1);
          display: flex;
          align-items: center;
          text-align: left;
          gap: .8rem;
          {% comment %} margin-top: 24px; {% endcomment %}
        }

         .delivery-time svg {
        width: 20px;
        height: 20px;
        }

        .delivery-time svg  *{
        stroke:rgba(130, 134, 135, 1);
        }

        .delivery-time-date {
            font-weight: 400;
        }

        .sticky-bar__left-text-wrapper {
            display: block;
            border-left: 1px solid rgba(190, 191, 193, 1);
            padding-left: 1.2rem;
            text-align: left;
            color: #e6e6e6;
        }

        .sticky-bar__left-text {
            display: block;
            color: rgba(83, 84, 85, 1);
            font-family: Kanit;
            font-weight: 300;
            font-size: 14px;
            line-height: 22px;
            letter-spacing: 0;
        }

        #delivery-date-range-{{ section.id }} {
            color:rgba(50, 51, 52, 1);
            font-family: Kanit;
            font-weight: 600;
            font-size: 16px;
            line-height: 24px;
            letter-spacing: 0;
        }

        @media (max-width: 768px) {
            .sticky-bar__left-text {
            display: inline;
            }
        }

         .delivery-time {
            font-size: 1.6rem;
        }
         .sticky-bar__left-text-wrapper {
            color: #525252;
        }
        .sticky-bar__left-text {
            color: #4C5258;
        }

        #delivery-date-range-{{ section.id }} {
            display: block;
        }
        @media (max-width: 768px) {
            #delivery-date-range-{{ section.id }} {
            }
        }

  }
</style>

<div class="delivery-time">
  {% render 'icon-truck' %}
  <div class="sticky-bar__left-text-wrapper">
    <div class="sticky-bar__left-text">Order today, delivers:</div>
    <span id="delivery-date-range-{{ section.id }}"></span>
  </div>
</div>

<script>
  (() => {
    function formatDate(date) {
      const d = date.getDate().toString().padStart(2, '0');
      const m = (date.getMonth() + 1).toString().padStart(2, '0');
      const y = date.getFullYear();
      return `${d}/${m}/${y}`;
    }

    const now = new Date();
    const start = new Date(now);
    {% comment %} {{- earlyTime  -}} {% endcomment %}
    start.setDate(now.getDate() + {{- earlyTime  -}}   );

    const end = new Date(now);
    {% comment %} end.setDate(now.getDate() + {{- endTime -}}); {% endcomment %}
     end.setDate(now.getDate()+ {{- endTime  -}} );

    const range = `${formatDate(start)} - ${formatDate(end)}`;
    const el = document.getElementById('delivery-date-range-{{ section.id }}');
    if (el) el.textContent = range;
  })();
</script>

