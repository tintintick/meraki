/* Custom Exhibition Cards (mobile-first) */

.meraki-exhibition-cards {
  position: relative;
  width: 100%;
  overflow: hidden;
}

.meraki-exhibition-cards.design-scale {
  /* mobile tokens based on 750px mock */
  --section-width: 750px;
  --section-height: 916px;
  --section-bg: #f0f0f0;

  /* Container */
  --container-margin: 40px;
  --container-padding: 0;

  /* Grid */
  --grid-gap: 20px;

  /* Items */
  --item1-width: 325px;
  --item1-height: 554px;
  --item2-width: 325px;
  --item2-height: 204px;
  --item3-width: 325px;
  --item3-height: 330px;
  --item4-width: 670px;
  --item4-height: 264px;

  /* Border radius */
  --border-radius: 10px;

  width: 100%;
  height: calc(var(--section-height) * var(--scale-factor-mobile, 1));
  background-color: var(--section-bg);
}

/* Container */
.exhibition-container {
  width: calc(100% - calc(var(--container-margin) * 2));
  margin-left: calc(var(--container-margin) * var(--scale-factor-mobile, 1));
  margin-right: calc(var(--container-margin) * var(--scale-factor-mobile, 1));
  padding: var(--container-padding);
  background: transparent;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Grid */
.exhibition-grid {
  display: grid;
  grid-template-columns: repeat(2, calc(var(--item1-width) * var(--scale-factor-mobile, 1)));
  grid-template-rows:
    calc(var(--item2-height) * var(--scale-factor-mobile, 1))
    calc(var(--item3-height) * var(--scale-factor-mobile, 1))
    calc(var(--item4-height) * var(--scale-factor-mobile, 1));
  gap: calc(var(--grid-gap) * var(--scale-factor-mobile, 1));
  width: 100%;
}

/* Exhibition Items */
.exhibition-item {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: var(--border-radius);
}

/* Item 1: tall left image (325x554) */
.exhibition-item-1 {
  grid-row: 1 / 3;
  grid-column: 1;
}

/* Item 2: top right small image (325x204) */
.exhibition-item-2 {
  grid-row: 1;
  grid-column: 2;
}

/* Item 3: middle right image (325x330) */
.exhibition-item-3 {
  grid-row: 2;
  grid-column: 2;
}

/* Item 4: bottom full-width image (670x264) */
.exhibition-item-4 {
  grid-row: 3;
  grid-column: 1 / 3;
}

/* Item 5: hidden on mobile */
.exhibition-item-5 {
  display: none;
}

/* Images */
.exhibition-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

/* Tablet: 750px mock applies at full scale */
@media (min-width: 750px) {
  /* Tablet scaling rules can be added here if needed */
}

/* Desktop overrides */
@media (min-width: 990px) {
  .meraki-exhibition-cards.design-scale {
    /* Desktop tokens */
    --grid-gap-desktop: 17px;
    
    /* Item sizes at 1920px */
    --item1-width-desktop: 326px;
    --item1-height-desktop: 547px;
    --item2-width-desktop: 524px;
    --item2-height-desktop: 230px;
    --item3-width-desktop: 386px;
    --item3-height-desktop: 300px;
    --item4-width-desktop: 528px;
    --item4-height-desktop: 300px;
    --item5-width-desktop: 390px;
    --item5-height-desktop: 230px;
    
    /* Column widths calculation:
     * item2 (524px) = col1 + gap + col2
     * item5 (390px) = col3
     * item4 (528px) = col2 + gap + col3
     * From item4: col2 + gap + 390 = 528, so col2 = 528 - 17 - 390 = 121px
     * From item2: col1 + gap + 121 = 524, so col1 = 524 - 17 - 121 = 386px
     * col1 = 386px (item3 width)
     * col2 = 121px
     * col3 = 390px (item5 width)
     * col4 = 326px (item1 width)
     */
    --col1-width-desktop: 386px;
    --col2-width-desktop: 121px;
    --col3-width-desktop: 390px;
    --col4-width-desktop: 326px;
    
    /* Container width = col1 + gap + col2 + gap + col3 + gap + col4 = 386 + 17 + 121 + 17 + 390 + 17 + 326 = 1274px */
    --grid-width-desktop: 1274px;
    --grid-height-desktop: 547px; /* item1 height */

    /* custom-exhibition-cards margin */
    --section-padding-top-desktop: 100px;
    --section-padding-bottom-desktop: 87px;
    height: auto;
    padding-top: calc(var(--section-padding-top-desktop) * var(--scale-factor-desktop, 1));
    padding-bottom: calc(var(--section-padding-bottom-desktop) * var(--scale-factor-desktop, 1));
  }

  /* Grid - Desktop: 4 columns, 2 rows */
  .exhibition-grid {
    display: grid;
    grid-template-columns: 
      calc(var(--col1-width-desktop) * var(--scale-factor-desktop, 1))
      calc(var(--col2-width-desktop) * var(--scale-factor-desktop, 1))
      calc(var(--col3-width-desktop) * var(--scale-factor-desktop, 1))
      calc(var(--col4-width-desktop) * var(--scale-factor-desktop, 1));
    grid-template-rows:
      calc(var(--item2-height-desktop) * var(--scale-factor-desktop, 1))
      calc(var(--item3-height-desktop) * var(--scale-factor-desktop, 1));
    gap: calc(var(--grid-gap-desktop) * var(--scale-factor-desktop, 1));
    width: calc(var(--grid-width-desktop) * var(--scale-factor-desktop, 1));
    max-width: 100%;
    align-items: start;
    justify-items: start;
  }

  /* Item 1: right tall image (326x547) - spans 2 rows, column 4 */
  .exhibition-item-1 {
    grid-row: 1 / 3;
    grid-column: 4;
    width: calc(var(--item1-width-desktop) * var(--scale-factor-desktop, 1));
    height: calc(var(--item1-height-desktop) * var(--scale-factor-desktop, 1));
  }

  /* Item 2: top left (524x230) - spans 2 columns (1-2) */
  .exhibition-item-2 {
    grid-row: 1;
    grid-column: 1 / 3;
    width: calc(var(--item2-width-desktop) * var(--scale-factor-desktop, 1));
    height: calc(var(--item2-height-desktop) * var(--scale-factor-desktop, 1));
  }

  /* Item 3: bottom left (386x300) - column 1 */
  .exhibition-item-3 {
    grid-row: 2;
    grid-column: 1;
    width: calc(var(--item3-width-desktop) * var(--scale-factor-desktop, 1));
    height: calc(var(--item3-height-desktop) * var(--scale-factor-desktop, 1));
    justify-self: start;
  }

  /* Item 4: bottom right (528x300) - spans 2 columns (2-3) */
  .exhibition-item-4 {
    grid-row: 2;
    grid-column: 2 / 4;
    width: calc(var(--item4-width-desktop) * var(--scale-factor-desktop, 1));
    height: calc(var(--item4-height-desktop) * var(--scale-factor-desktop, 1));
  }

  /* Item 5: top right (390x230) - column 3 */
  .exhibition-item-5 {
    display: block;
    grid-row: 1;
    grid-column: 3;
    width: calc(var(--item5-width-desktop) * var(--scale-factor-desktop, 1));
    height: calc(var(--item5-height-desktop) * var(--scale-factor-desktop, 1));
  }
}

/* Ultra-wide / 4K */
@media (min-width: 1920px) {
  .meraki-exhibition-cards.design-scale {
    --scale-factor-desktop: 1;
  }
}
